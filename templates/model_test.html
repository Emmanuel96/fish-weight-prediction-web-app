<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <title>Fish Weight Prediction!</title>
  </head>
  <body>
    <div class = "container p-5 mt-5 d-flex justify-content-center align-items-center">

    <form id = "myForm" class="row g-3 w-50">
        <h1>Fish Weight Prediction</h1>
        
        <div class="col-md-12">
          <label class="form-label">Length1</label>
          <input type="number" class="form-control"  name="Length1" step = "0.01"  placeholder="1" required>
        </div>
        <div class="col-12">
          <label class="form-label">Length2</label>
          <input type="number" name="Length2" class="form-control" step = "0.01"   placeholder="1" required>
        </div>
        <div class="col-12">
          <label class="form-label">Length3</label>
          <input type="number" class="form-control" name="Length3" step = "0.01"  placeholder="1" required>
        </div>
        <div class="col-md-12">
          <label class="form-label">Height</label>
          <input type="number" class="form-control" name="Height" step = "0.01"  placeholder = "2" required>
        </div>
        <div class="col-md-12">
          <label class="form-label">Width</label>
          <input type="number" name="Width" class="form-control" placeholder= "0.1" step = "0.01" required/>
        </div>
       <div class="col-md-12">
          <input type="submit" class="btn btn-primary" value="Predict" />
       </div>
     </form>     
    </div>
   
     
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    
    <script src="https://code.jquery.com/jquery-3.6.0.js"
            integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
            crossorigin="anonymous"></script>
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script>
        $('#myForm').on('submit', (event)=>{
            event.preventDefault(); 
            
            const form = document.getElementById('myForm')
            
            const data = []; 
            
            Array.from(form.elements).forEach(element => {
               if(element.value !== "Predict"){
                    data.push(element.value);
               }
            });
            
            console.log('data: ',data)
            
            $.ajax({
              url: "{{ url_for('predict')}}",
              type:"POST",
              data: {'data':data, 'd':2}
            }).done(function(result) {
              Swal.fire({
              icon: 'info',
                  text: result
                })
            });
          
        })
    </script>
  </body>
</html>